<!DOCTYPE html>
<html>
<head>
    <!-- <script type="text/javascript" src="http://livejs.com/live.js"></script> -->
	<script src="http://localhost:1880/opencv/opencv.js" type="text/javascript"></script>
	<script type ="text/JavaScript">
         <!--
            function AutoRefresh( t ) {
               setTimeout("location.reload(true);", t);
            }
         //-->
    </script>

    <script type="text/javascript">
    	function getBase64Image(img) {
		    var canvas = document.createElement("canvas");
		    canvas.width = img.width;
		    canvas.height = img.height;

		    var ctx = canvas.getContext("2d");
		    ctx.drawImage(img, 0, 0);

		    var dataURL = canvas.toDataURL("image/png");

		    return dataURL.replace(/^data:image\/(png|jpg);base64,/, "");
}
    </script>

    <script type="text/javascript">
        function dataURLtoFile(dataurl, filename) {
            var arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1],
                 bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);
             while(n--){
                u8arr[n] = bstr.charCodeAt(n);
        }
    return new File([u8arr], filename, {type:mime});
}
    </script>

	<meta charset="utf-8">
	<title>Hello OpenCV.js</title>
</head>
	<body onload = "JavaScript:AutoRefresh(2000);">
    <p>Số lượng contours:</p>
    <p id="len"></p>



	<table>
        <tr>
            <th>source</th>
            <th>output</th>
            <th>ROIs</th>
            <th>Result</th>
        </tr>
        <tr>
            <td>
                <img crossorigin="anonymous" src="http://localhost:1880/opencv/capturenr/32.PNG" id="imageSrc" style="width: 300px; height: 300px;" />
            </td>
            <td>
                <canvas id="canvasOutput" ></canvas>
            </td>
            <td>
                <canvas id="test"></canvas>
                <canvas id="test2"></canvas>
            </td>
            <td>
                <canvas crossorigin="anonymous" id="result"></canvas>
            </td>
        </tr>
        <tr>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                <input type="file" id="fileInput" />
            </td>
        </tr>
    </table>

    <script src="countour2.js" type="text/javascript"></script>
    <!-- <script src="canvas2image.js" type="text/javascript"></script> -->
    <script src="http://localhost:1880/opencv/js_source/d3.min.js" type="text/javascript"></script>
    <!-- <script src='https://cdnjs.cloudflare.com/ajax/libs/d3/4.11.0/d3.min.js'></script> -->
    <!-- <script src="hist.js" type="text/javascript"></script> -->
</body>
</html>